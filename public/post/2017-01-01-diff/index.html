<!DOCTYPE html>
<html lang="en-us">
    <head>
         
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Python: The difference between &#39;==&#39; and &#39;is&#39;</title>
        
        <style>

    html body {
        font-family: 'PT Sans', sans-serif;
        background-color: white;
    }

    :root {
        --accent: #E64A19;
        --border-width:  5px ;
    }

</style>


<link rel="stylesheet" href="https://codingwithvikram.surge.sh/css/main.css">





<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT%20Sans">


 <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css"> 


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
 


    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>

     <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/go.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/python.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/javascript.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/html.min.js"></script>  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/swift.min.js"></script> 

    <script>hljs.initHighlightingOnLoad();</script>







<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


<script>$(document).on('click', function() { $('.collapse').collapse('hide'); })</script>
 <meta name="generator" content="Hugo 0.42.2" />
        

        
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-82436973-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments)};
          gtag('js', new Date());

          gtag('config', 'UA-82436973-1');
        </script>
        
    </head>

    
    
    <script type="text/javascript" async
      src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
    

    <body>
         
        <nav class="navbar navbar-default navbar-fixed-top">

            <div class="container">

                <div class="navbar-header">

                    <a class="navbar-brand visible-xs" href="#">Python: The difference between &#39;==&#39; and &#39;is&#39;</a>

                    <button class="navbar-toggle" data-target=".navbar-collapse" data-toggle="collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <div class="collapse navbar-collapse">

                    
                        <ul class="nav navbar-nav">
                            
                                <li><a href="/">Home</a></li>
                            
                                <li><a href="/post/">Posts</a></li>
                            
                        </ul>
                    

                    
                        <ul class="nav navbar-nav navbar-right">
                            
                                <li class="navbar-icon"><a href="https://github.com/vikramcse/"><i class="fa fa-github"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://twitter.com/vikramcse10"><i class="fa fa-twitter"></i></a></li>
                            
                                <li class="navbar-icon"><a href="https://www.linkedin.com/in/vikram-jadhav-28394439/"><i class="fa fa-linkedin"></i></a></li>
                            
                        </ul>
                    

                </div>

            </div>

        </nav>


<main>

    <div class="item">

    
    
    

    
    

    <h4><a href="/post/2017-01-01-diff/">Python: The difference between &#39;==&#39; and &#39;is&#39;</a></h4>
    <h5>January 1, 2017</h5>
    
    <a href="https://codingwithvikram.surge.sh/tags/python"><kbd class="item-tag">Python</kbd></a>
    

</div>


    <br> <div class="text-justify">

<p>For a beginner, the <code>is</code> operator may seem like as the <code>==</code> operator but actually, those are not same.</p>

<h1 id="basic-principle-of-object-creation-computer-science">Basic principle of object creation Computer Science</h1>

<blockquote>
<p>An object can be a variable, a data structure, a function or a method
when defined, new memory location is created and a value assigned to it.</p>
</blockquote>

<p>So in the context of python, when a new variable, dict, list is defined, new memory location is created and a value is assigned to it.</p>

<p>Here is an example:</p>

<pre><code class="language-python">    &gt;&gt;&gt; a = 10
    &gt;&gt;&gt; id(a)
    55211700

    &gt;&gt;&gt; l = [1, &quot;a&quot;, 5.5]
    &gt;&gt;&gt; id(l)
    56335856
</code></pre>

<p>In above example <code>id</code> function is used to get memory location of the object, so it tells us that that each object has a different memory location.</p>

<p>we are going to use is <code>id</code> function for further explanations.</p>

<h1 id="python-operator">Python &lsquo;==&rsquo; operator</h1>

<blockquote>
<p>The <code>==</code> expression evaluates to <code>True</code> if the values in objects are similar.</p>
</blockquote>

<p>Here is an example:</p>

<pre><code class="language-python">    &gt;&gt;&gt; names = [&quot;casey&quot;, &quot;amanda&quot;, &quot;raju&quot;]
    &gt;&gt;&gt; names_copy = names # created another variable names_copy
</code></pre>

<p>In above example, we created names variable as a list of names and again created a new variable names_copy which points to names list.</p>

<p>Let&rsquo;s check the contents of the two variables</p>

<pre><code class="language-python">    &gt;&gt;&gt; names
    [&quot;casey&quot;, &quot;amanda&quot;, &quot;raju&quot;]

    &gt;&gt;&gt; names_copy
    [&quot;casey&quot;, &quot;amanda&quot;, &quot;raju&quot;]
</code></pre>

<p>The contents of two lists are same, we will get the <code>True</code> when we compare with <code>==</code></p>

<pre><code class="language-python">    &gt;&gt;&gt; names == names_copy
    True
</code></pre>

<h1 id="python-is-operator">Python &lsquo;is&rsquo; operator</h1>

<p>The <code>==</code> expression does not tell us weather names and names_copy are pointing to same object or not.</p>

<p>Let us check the object memory location by using <code>id</code> function.</p>

<pre><code class="language-python">    &gt;&gt;&gt; id(names)
    56336176

    &gt;&gt;&gt; id(names_copy)
    56336176
</code></pre>

<p>So we can conclude that the two variables <code>names</code> and  <code>names_copy</code> are pointing to same object.</p>

<blockquote>
<p>An <code>is</code> operator evaluates to True if two variables point to the same object.</p>
</blockquote>

<p>By the definition of <code>is</code> the <code>names</code> and <code>names_copy</code> should evaluate to True</p>

<pre><code class="language-python">    &gt;&gt;&gt; names is names_copy
    &gt;&gt;&gt; True
</code></pre>

<p>Let us take another scenario when <code>names_copy</code> is not pointing to <code>names</code> object.</p>

<pre><code class="language-python">    &gt;&gt;&gt; names_copy = list(names)

    &gt;&gt;&gt; names
    [&quot;casey&quot;, &quot;amanda&quot;, &quot;raju&quot;]

    &gt;&gt;&gt; names_copy
    [&quot;casey&quot;, &quot;amanda&quot;, &quot;raju&quot;]
</code></pre>

<p>Here <code>list</code> creates an identical copy of <code>names</code> object.</p>

<pre><code class="language-python">    &gt;&gt;&gt; id(names)
    56336176

    &gt;&gt;&gt; id(names_copy)
    56355656
</code></pre>

<p>As we can see the memory location of two objects are different.
Now we can check the results of <code>==</code> and <code>is</code> operators</p>

<pre><code class="language-python">    &gt;&gt;&gt; names == names_copy
    True

    &gt;&gt;&gt; names is names_copy
    False
</code></pre>

<p>In first case we got the result <code>True</code> because the contents of two variables are same, but in second case the though, the contents are same the variables are pointing to two different memory locations, so the result us <code>False</code>.</p>

<h1 id="corner-cases">Corner Cases</h1>

<blockquote>
<p>Because of the way the Python works, we can get unexpected and inconsistent
results when we mistakenly use <code>is</code> to compare for reference equality on
integers</p>
</blockquote>

<p>Let us considet below example</p>

<pre><code class="language-python">    &gt;&gt;&gt; a = 500
    &gt;&gt;&gt; b = 500

    &gt;&gt;&gt; a == b
    True

    &gt;&gt;&gt; a is b
    False
</code></pre>

<p>That is what what we expected, a and b have the same value, but are distinct memory locations.</p>

<pre><code class="language-python">    &gt;&gt;&gt; a = 200
    &gt;&gt;&gt; b = 200

    &gt;&gt;&gt; a == b
    True

    &gt;&gt;&gt; a is b
    True
</code></pre>

<p>WHAT? why is that?, is python CRAZY!!!.</p>

<p>The reson for this wired behavior of Python is,</p>

<blockquote>
<p>The implementation of Python <code>caches</code> integer objects in the range -5 to 256
as singleton instances for performance reasons.</p>
</blockquote>

<h1 id="conclusion">Conclusion</h1>

<ul>
<li>Do not use <code>is</code> operator to compare integers.</li>
<li>Use <code>==</code> to compare for equality.</li>
<li>Comparisons to singletons like <code>None</code> should always be done with <code>is</code>, never use the <code>==</code> operators.</li>
</ul>
</div>

    
    

    

        <h4 class="page-header">Related</h4>

         <div class="item">

    
    
    

    
    

    <h4><a href="/post/2017-05-28-python-linked-list/">Linked List implementation in Python</a></h4>
    <h5>May 28, 2017</h5>
    
    <a href="https://codingwithvikram.surge.sh/tags/python"><kbd class="item-tag">Python</kbd></a>
    
    <a href="https://codingwithvikram.surge.sh/tags/data-structure"><kbd class="item-tag">Data Structure</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4><a href="/post/2017-05-23-python-deepcopy/">Python Copy and Deepcopy</a></h4>
    <h5>May 23, 2017</h5>
    
    <a href="https://codingwithvikram.surge.sh/tags/python"><kbd class="item-tag">Python</kbd></a>
    

</div>
  <div class="item">

    
    
    

    
    

    <h4><a href="/post/2017-01-01-python-tuples/">Python: Tuple Fundamentals</a></h4>
    <h5>January 1, 2017</h5>
    
    <a href="https://codingwithvikram.surge.sh/tags/python"><kbd class="item-tag">Python</kbd></a>
    

</div>
 

    

    

</main>

        <footer>

            <p class="copyright text-muted">&copy; All rights reserved. Powered by <a href="https://gohugo.io">Hugo</a> and <a href="https://github.com/calintat/minimal">Minimal</a></p>

        </footer>
       
    </body>

</html>

